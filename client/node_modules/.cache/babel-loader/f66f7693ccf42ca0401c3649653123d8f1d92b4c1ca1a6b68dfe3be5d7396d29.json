{"ast":null,"code":"var _jsxFileName = \"D:\\\\Task_Tracker\\\\client\\\\income-expenses-tracker\\\\src\\\\components\\\\context\\\\AccountContext\\\\AccountContext.js\",\n  _s = $RefreshSig$();\nimport { createContext, useReducer } from \"react\";\nimport axios from \"axios\";\nimport { API_URL_ACC } from \"../../../utils/apiURL\";\nimport { ACCOUNT_DETAILS_SUCCESS, ACCOUNT_DETAILS_FAIL, ACCOUNT_CREATION_SUCCES, ACCOUNT_CREATION_FAIL } from \"./accountActionTypes\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const accountContext = /*#__PURE__*/createContext();\n//Initial State\n\nconst INITIAL_STATE = {\n  userAuth: JSON.parse(localStorage.getItem(\"userAuth\")),\n  account: null,\n  accounts: [],\n  loading: false,\n  error: null\n};\n\n//reducer\nconst accountReducer = (state, action) => {\n  const {\n    type,\n    payload\n  } = action;\n  switch (type) {\n    // Details\n    case ACCOUNT_DETAILS_SUCCESS:\n      return {\n        ...state,\n        account: payload,\n        loading: false,\n        error: null\n      };\n    case ACCOUNT_DETAILS_FAIL:\n      return {\n        ...state,\n        account: null,\n        loading: false,\n        error: payload\n      };\n    // Create\n    case ACCOUNT_CREATION_SUCCES:\n      return {\n        ...state,\n        account: payload,\n        loading: false,\n        error: null\n      };\n    case ACCOUNT_CREATION_FAIL:\n      return {\n        ...state,\n        account: null,\n        loading: false,\n        error: payload\n      };\n    default:\n      return state;\n  }\n};\n\n//Provider\nexport const AccountContextProvider = ({\n  children\n}) => {\n  _s();\n  const [state, dispatch] = useReducer(accountReducer, INITIAL_STATE);\n  console.log(state);\n  //Get account Details action\n  const getAccountDetailsAction = async id => {\n    var _state$userauth;\n    const config = {\n      headers: {\n        Authorization: `Bearer ${state === null || state === void 0 ? void 0 : (_state$userauth = state.userauth) === null || _state$userauth === void 0 ? void 0 : _state$userauth.token}`,\n        \"Content-Type\": \"application/json\"\n      }\n    };\n    try {\n      var _res$data;\n      const res = await axios.get(`${API_URL_ACC}/${id}`, config);\n      if ((res === null || res === void 0 ? void 0 : (_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.status) === \"success\") {\n        var _res$data2;\n        //dispatch\n        dispatch({\n          type: ACCOUNT_DETAILS_SUCCESS,\n          payload: res === null || res === void 0 ? void 0 : (_res$data2 = res.data) === null || _res$data2 === void 0 ? void 0 : _res$data2.data\n        });\n      }\n    } catch (error) {\n      var _error$data, _error$data$response;\n      dispatch({\n        type: ACCOUNT_DETAILS_FAIL,\n        payload: error === null || error === void 0 ? void 0 : (_error$data = error.data) === null || _error$data === void 0 ? void 0 : (_error$data$response = _error$data.response) === null || _error$data$response === void 0 ? void 0 : _error$data$response.message\n      });\n    }\n  };\n\n  //Get account Details action\n  const createAccountAction = async formData => {\n    var _state$userAuth;\n    console.log(state === null || state === void 0 ? void 0 : state.userAuth);\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${state === null || state === void 0 ? void 0 : (_state$userAuth = state.userAuth) === null || _state$userAuth === void 0 ? void 0 : _state$userAuth.token}`\n      }\n    };\n    try {\n      var _res$data3;\n      const res = await axios.post(`${API_URL_ACC}`, formData, config);\n      if ((res === null || res === void 0 ? void 0 : (_res$data3 = res.data) === null || _res$data3 === void 0 ? void 0 : _res$data3.status) === \"success\") {\n        var _res$data4;\n        //dispatch\n        dispatch({\n          type: ACCOUNT_CREATION_SUCCES,\n          payload: res === null || res === void 0 ? void 0 : (_res$data4 = res.data) === null || _res$data4 === void 0 ? void 0 : _res$data4.data\n        });\n      }\n    } catch (error) {\n      var _error$data2, _error$data2$response;\n      console.log(error);\n      dispatch({\n        type: ACCOUNT_CREATION_FAIL,\n        payload: error === null || error === void 0 ? void 0 : (_error$data2 = error.data) === null || _error$data2 === void 0 ? void 0 : (_error$data2$response = _error$data2.response) === null || _error$data2$response === void 0 ? void 0 : _error$data2$response.message\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(accountContext.Provider, {\n    value: {\n      getAccountDetailsAction,\n      account: state === null || state === void 0 ? void 0 : state.account,\n      createAccountAction,\n      error: state === null || state === void 0 ? void 0 : state.error\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 118,\n    columnNumber: 5\n  }, this);\n};\n_s(AccountContextProvider, \"ih+Vd9fHXqjzC8XFlo5K5uS4lm8=\");\n_c = AccountContextProvider;\nvar _c;\n$RefreshReg$(_c, \"AccountContextProvider\");","map":{"version":3,"names":["createContext","useReducer","axios","API_URL_ACC","ACCOUNT_DETAILS_SUCCESS","ACCOUNT_DETAILS_FAIL","ACCOUNT_CREATION_SUCCES","ACCOUNT_CREATION_FAIL","jsxDEV","_jsxDEV","accountContext","INITIAL_STATE","userAuth","JSON","parse","localStorage","getItem","account","accounts","loading","error","accountReducer","state","action","type","payload","AccountContextProvider","children","_s","dispatch","console","log","getAccountDetailsAction","id","_state$userauth","config","headers","Authorization","userauth","token","_res$data","res","get","data","status","_res$data2","_error$data","_error$data$response","response","message","createAccountAction","formData","_state$userAuth","_res$data3","post","_res$data4","_error$data2","_error$data2$response","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/Task_Tracker/client/income-expenses-tracker/src/components/context/AccountContext/AccountContext.js"],"sourcesContent":["import { createContext, useReducer } from \"react\";\nimport axios from \"axios\";\nimport { API_URL_ACC } from \"../../../utils/apiURL\";\nimport {\n  ACCOUNT_DETAILS_SUCCESS,\n  ACCOUNT_DETAILS_FAIL,\n  ACCOUNT_CREATION_SUCCES,\n  ACCOUNT_CREATION_FAIL,\n} from \"./accountActionTypes\";\n\nexport const accountContext = createContext();\n//Initial State\n\nconst INITIAL_STATE = {\n  userAuth: JSON.parse(localStorage.getItem(\"userAuth\")),\n  account: null,\n  accounts: [],\n  loading: false,\n  error: null,\n};\n\n//reducer\nconst accountReducer = (state, action) => {\n  const { type, payload } = action;\n  switch (type) {\n    // Details\n    case ACCOUNT_DETAILS_SUCCESS:\n      return {\n        ...state,\n        account: payload,\n        loading: false,\n        error: null,\n      };\n    case ACCOUNT_DETAILS_FAIL:\n      return {\n        ...state,\n        account: null,\n        loading: false,\n        error: payload,\n      };\n    // Create\n    case ACCOUNT_CREATION_SUCCES:\n      return {\n        ...state,\n        account: payload,\n        loading: false,\n        error: null,\n      };\n    case ACCOUNT_CREATION_FAIL:\n      return {\n        ...state,\n        account: null,\n        loading: false,\n        error: payload,\n      };\n    default:\n      return state;\n  }\n};\n\n//Provider\nexport const AccountContextProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(accountReducer, INITIAL_STATE);\n  console.log(state);\n  //Get account Details action\n  const getAccountDetailsAction = async id => {\n    const config = {\n      headers: {\n        Authorization: `Bearer ${state?.userauth?.token}`,\n        \"Content-Type\": \"application/json\",\n      },\n    };\n    try {\n      const res = await axios.get(`${API_URL_ACC}/${id}`, config);\n\n      if (res?.data?.status === \"success\") {\n        //dispatch\n        dispatch({\n          type: ACCOUNT_DETAILS_SUCCESS,\n          payload: res?.data?.data,\n        });\n      }\n    } catch (error) {\n      dispatch({\n        type: ACCOUNT_DETAILS_FAIL,\n        payload: error?.data?.response?.message,\n      });\n    }\n  };\n\n  //Get account Details action\n  const createAccountAction = async formData => {\n    console.log(state?.userAuth);\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${state?.userAuth?.token}`,\n      },\n    };\n    try {\n      const res = await axios.post(`${API_URL_ACC}`, formData, config);\n      if (res?.data?.status === \"success\") {\n        //dispatch\n        dispatch({\n          type: ACCOUNT_CREATION_SUCCES,\n          payload: res?.data?.data,\n        });\n      }\n    } catch (error) {\n      console.log(error);\n      dispatch({\n        type: ACCOUNT_CREATION_FAIL,\n        payload: error?.data?.response?.message,\n      });\n    }\n  };\n  return (\n    <accountContext.Provider\n      value={{\n        getAccountDetailsAction,\n        account: state?.account,\n        createAccountAction,\n        error: state?.error,\n      }}\n    >\n      {children}\n    </accountContext.Provider>\n  );\n};\n"],"mappings":";;AAAA,SAASA,aAAa,EAAEC,UAAU,QAAQ,OAAO;AACjD,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,QAAQ,uBAAuB;AACnD,SACEC,uBAAuB,EACvBC,oBAAoB,EACpBC,uBAAuB,EACvBC,qBAAqB,QAChB,sBAAsB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE9B,OAAO,MAAMC,cAAc,gBAAGV,aAAa,CAAC,CAAC;AAC7C;;AAEA,MAAMW,aAAa,GAAG;EACpBC,QAAQ,EAAEC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAAC;EACtDC,OAAO,EAAE,IAAI;EACbC,QAAQ,EAAE,EAAE;EACZC,OAAO,EAAE,KAAK;EACdC,KAAK,EAAE;AACT,CAAC;;AAED;AACA,MAAMC,cAAc,GAAGA,CAACC,KAAK,EAAEC,MAAM,KAAK;EACxC,MAAM;IAAEC,IAAI;IAAEC;EAAQ,CAAC,GAAGF,MAAM;EAChC,QAAQC,IAAI;IACV;IACA,KAAKpB,uBAAuB;MAC1B,OAAO;QACL,GAAGkB,KAAK;QACRL,OAAO,EAAEQ,OAAO;QAChBN,OAAO,EAAE,KAAK;QACdC,KAAK,EAAE;MACT,CAAC;IACH,KAAKf,oBAAoB;MACvB,OAAO;QACL,GAAGiB,KAAK;QACRL,OAAO,EAAE,IAAI;QACbE,OAAO,EAAE,KAAK;QACdC,KAAK,EAAEK;MACT,CAAC;IACH;IACA,KAAKnB,uBAAuB;MAC1B,OAAO;QACL,GAAGgB,KAAK;QACRL,OAAO,EAAEQ,OAAO;QAChBN,OAAO,EAAE,KAAK;QACdC,KAAK,EAAE;MACT,CAAC;IACH,KAAKb,qBAAqB;MACxB,OAAO;QACL,GAAGe,KAAK;QACRL,OAAO,EAAE,IAAI;QACbE,OAAO,EAAE,KAAK;QACdC,KAAK,EAAEK;MACT,CAAC;IACH;MACE,OAAOH,KAAK;EAChB;AACF,CAAC;;AAED;AACA,OAAO,MAAMI,sBAAsB,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EACtD,MAAM,CAACN,KAAK,EAAEO,QAAQ,CAAC,GAAG5B,UAAU,CAACoB,cAAc,EAAEV,aAAa,CAAC;EACnEmB,OAAO,CAACC,GAAG,CAACT,KAAK,CAAC;EAClB;EACA,MAAMU,uBAAuB,GAAG,MAAMC,EAAE,IAAI;IAAA,IAAAC,eAAA;IAC1C,MAAMC,MAAM,GAAG;MACbC,OAAO,EAAE;QACPC,aAAa,EAAG,UAASf,KAAK,aAALA,KAAK,wBAAAY,eAAA,GAALZ,KAAK,CAAEgB,QAAQ,cAAAJ,eAAA,uBAAfA,eAAA,CAAiBK,KAAM,EAAC;QACjD,cAAc,EAAE;MAClB;IACF,CAAC;IACD,IAAI;MAAA,IAAAC,SAAA;MACF,MAAMC,GAAG,GAAG,MAAMvC,KAAK,CAACwC,GAAG,CAAE,GAAEvC,WAAY,IAAG8B,EAAG,EAAC,EAAEE,MAAM,CAAC;MAE3D,IAAI,CAAAM,GAAG,aAAHA,GAAG,wBAAAD,SAAA,GAAHC,GAAG,CAAEE,IAAI,cAAAH,SAAA,uBAATA,SAAA,CAAWI,MAAM,MAAK,SAAS,EAAE;QAAA,IAAAC,UAAA;QACnC;QACAhB,QAAQ,CAAC;UACPL,IAAI,EAAEpB,uBAAuB;UAC7BqB,OAAO,EAAEgB,GAAG,aAAHA,GAAG,wBAAAI,UAAA,GAAHJ,GAAG,CAAEE,IAAI,cAAAE,UAAA,uBAATA,UAAA,CAAWF;QACtB,CAAC,CAAC;MACJ;IACF,CAAC,CAAC,OAAOvB,KAAK,EAAE;MAAA,IAAA0B,WAAA,EAAAC,oBAAA;MACdlB,QAAQ,CAAC;QACPL,IAAI,EAAEnB,oBAAoB;QAC1BoB,OAAO,EAAEL,KAAK,aAALA,KAAK,wBAAA0B,WAAA,GAAL1B,KAAK,CAAEuB,IAAI,cAAAG,WAAA,wBAAAC,oBAAA,GAAXD,WAAA,CAAaE,QAAQ,cAAAD,oBAAA,uBAArBA,oBAAA,CAAuBE;MAClC,CAAC,CAAC;IACJ;EACF,CAAC;;EAED;EACA,MAAMC,mBAAmB,GAAG,MAAMC,QAAQ,IAAI;IAAA,IAAAC,eAAA;IAC5CtB,OAAO,CAACC,GAAG,CAACT,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEV,QAAQ,CAAC;IAC5B,MAAMuB,MAAM,GAAG;MACbC,OAAO,EAAE;QACP,cAAc,EAAE,kBAAkB;QAClCC,aAAa,EAAG,UAASf,KAAK,aAALA,KAAK,wBAAA8B,eAAA,GAAL9B,KAAK,CAAEV,QAAQ,cAAAwC,eAAA,uBAAfA,eAAA,CAAiBb,KAAM;MAClD;IACF,CAAC;IACD,IAAI;MAAA,IAAAc,UAAA;MACF,MAAMZ,GAAG,GAAG,MAAMvC,KAAK,CAACoD,IAAI,CAAE,GAAEnD,WAAY,EAAC,EAAEgD,QAAQ,EAAEhB,MAAM,CAAC;MAChE,IAAI,CAAAM,GAAG,aAAHA,GAAG,wBAAAY,UAAA,GAAHZ,GAAG,CAAEE,IAAI,cAAAU,UAAA,uBAATA,UAAA,CAAWT,MAAM,MAAK,SAAS,EAAE;QAAA,IAAAW,UAAA;QACnC;QACA1B,QAAQ,CAAC;UACPL,IAAI,EAAElB,uBAAuB;UAC7BmB,OAAO,EAAEgB,GAAG,aAAHA,GAAG,wBAAAc,UAAA,GAAHd,GAAG,CAAEE,IAAI,cAAAY,UAAA,uBAATA,UAAA,CAAWZ;QACtB,CAAC,CAAC;MACJ;IACF,CAAC,CAAC,OAAOvB,KAAK,EAAE;MAAA,IAAAoC,YAAA,EAAAC,qBAAA;MACd3B,OAAO,CAACC,GAAG,CAACX,KAAK,CAAC;MAClBS,QAAQ,CAAC;QACPL,IAAI,EAAEjB,qBAAqB;QAC3BkB,OAAO,EAAEL,KAAK,aAALA,KAAK,wBAAAoC,YAAA,GAALpC,KAAK,CAAEuB,IAAI,cAAAa,YAAA,wBAAAC,qBAAA,GAAXD,YAAA,CAAaR,QAAQ,cAAAS,qBAAA,uBAArBA,qBAAA,CAAuBR;MAClC,CAAC,CAAC;IACJ;EACF,CAAC;EACD,oBACExC,OAAA,CAACC,cAAc,CAACgD,QAAQ;IACtBC,KAAK,EAAE;MACL3B,uBAAuB;MACvBf,OAAO,EAAEK,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEL,OAAO;MACvBiC,mBAAmB;MACnB9B,KAAK,EAAEE,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEF;IAChB,CAAE;IAAAO,QAAA,EAEDA;EAAQ;IAAAiC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACc,CAAC;AAE9B,CAAC;AAACnC,EAAA,CAnEWF,sBAAsB;AAAAsC,EAAA,GAAtBtC,sBAAsB;AAAA,IAAAsC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}